"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6242],{49860:function(e,t,r){r.d(t,{c:function(){return n}});var n={"Content-Type":"application/json"}},42933:function(e,t,r){r.d(t,{z:function(){return s}});var n=r(59499),o=r(67294),i=r(85893);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var c=(0,o.createContext)({});function s(e){var t=e.overrideProps,r=e.children,n=(0,o.useContext)(c);return(0,i.jsx)(c.Provider,{value:u(u({},n),t),children:r})}t.Z=c},86242:function(e,t,r){r.d(t,{H:function(){return S},R:function(){return k}});var n=r(50029),o=r(59499),i=r(4730),a=r(87794),u=r.n(a),c=r(98903),s=r(42933),p=r(96975),f=r(67294),m=r(35504),d=r(65607),l=r(33758),b=r(5662),y=r(16387),v=r(30985),h=function(e){if((null==e?void 0:e.status)==="skipped"){var t,r=null===(t=e.reasons)||void 0===t?void 0:t.map(function(e){return e.message}).join(", ");(0,c.captureException)(Error("Form submission was skipped: ".concat(r)))}},w=r(20413),O=r(85893),g=["onSubmit","mergeSubmit"];function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var S=function(e){var t,r,o,a=(0,y.Z)(),x=window.performance.now(),S=(0,f.useContext)(s.Z),k=S.onSubmit,P=S.mergeSubmit,F=(0,i.Z)(S,g),E=j(j({},e),F),I=E.formId,Z=E.formLeadId,N=E.defaults,C=E.submitButtonLabel,L=E.redirectUrl,D=E.headingSize,T=E.headingText,M=E.subheadingSize,_=E.subheadingText,R=E.backgroundColor,V=E.theme,z=E.hideLabels,A=E.forceBusinessEmail,J=E.emailSubmissionSource,B=E.hiddenFieldIds,G=E.icon,U=E.secondaryCTA,W=E.formFields,q=E.isMultiStepSubmit,H=E.extraSubmitValues,Q=E.waitForSubmit,K=void 0!==P&&P?(r=e.onSubmit,function(e,t,n){k&&k(e,t,n),r&&r(e,t,n)}):k||e.onSubmit,X=(0,p.q)().find(function(e){return e.id===I}),Y=(0,w.Z)().translate;return((0,f.useEffect)(function(){if(X){if(x>0){var e=window.performance.now();(0,d.M9)("Marketo.renderForm",e-x,I)}(0,d.v3)("Marketo.formRendered",I)}else(0,d.v3)("Marketo.formRender.error",I)},[]),X)?(0,O.jsx)(m.l,{fields:(0,b.Z)(W||X.fields,A,z,B),defaults:N,submitButtonLabel:C,secondaryCTA:U,icon:G,headingText:T,headingSize:D,subheadingText:_,subheadingSize:M,backgroundColor:R,theme:V||"marketo",onSubmit:(t=(0,n.Z)(u().mark(function e(t){var r,n,o,i,c;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,H&&(n=j(j({},H),t)),e.next=4,(0,l.P)({formId:I,formFields:null!==(r=n)&&void 0!==r?r:{},emailSubmissionSource:J,formLeadId:Z,waitForSubmit:Q,bypassValidateFormStructure:q});case 4:if(i=(o=e.sent).result,c=o.emailSubmissionResult,K&&K(i,t,c),i.success){e.next=11;break}return h(i.result),e.abrupt("return",i);case 11:if(L){var u;window.location.assign((0,v.o)(L,a))}return e.abrupt("return",i);case 13:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})}):((0,c.captureException)("Tried to load form with id ".concat(I," but it wasn't found")),(0,O.jsx)("p",{children:Y("We can't load this form.")}))},k="signup-intent"},65607:function(e,t,r){r.d(t,{M9:function(){return f},NJ:function(){return c},v3:function(){return s}});var n=r(50029),o=r(87794),i=r.n(o),a=r(75917);function u(e){return"GtmJS.".concat(e)}function c(e){return{formId:e,v2:!0}}function s(e,t){return p.apply(this,arguments)}function p(){return(p=(0,n.Z)(i().mark(function e(t,r){var n,o,s;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.n)();case 2:n=e.sent,o=u(t),s=c(r),n.incrementMetric(o,s);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function f(e,t,r){return m.apply(this,arguments)}function m(){return(m=(0,n.Z)(i().mark(function e(t,r,n){var o,s,p;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.n)();case 2:o=e.sent,s=u(t),p=c(n),o.recordTimingMetric(s,r,p);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}},33758:function(e,t,r){r.d(t,{P:function(){return y}});var n=r(59499),o=r(50029),i=r(87794),a=r.n(i),u=r(36808),c=r.n(u),s=r(75917),p=r(49860),f=r(98903),m=r(20137),d=r(65607);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function y(e){return v.apply(this,arguments)}function v(){return(v=(0,o.Z)(a().mark(function e(t){var r,n,o,i,u,c,s,p,f;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.formId,n=t.formFields,o=t.emailSubmissionSource,i=t.formLeadId,u=t.waitForSubmit,c=t.bypassValidateFormStructure,s=j(r,n,o),P(n),O(r),g(r,n),e.next=7,s;case 7:return p=e.sent,e.next=10,h({formId:r,formLeadId:i,formFields:n,waitForSubmit:u,bypassValidateFormStructure:c});case 10:return f=e.sent,e.abrupt("return",{result:f,emailSubmissionResult:p});case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function h(e){return w.apply(this,arguments)}function w(){return(w=(0,o.Z)(a().mark(function e(t){var r,n,o,i,u,c,s,m,d,l,y,v,h,w;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.formId,n=t.formLeadId,o=t.formFields,i=t.waitForSubmit,u=t.bypassValidateFormStructure,d=fetch((c=n?{endpoint:"/api/forms/updateLead",body:{formId:r,formLeadId:n,action:"updateOnly",formFields:o}}:{endpoint:"/api/forms/submit",body:{formId:r,formFields:o,visitorData:{pageURL:window.location.href},bypassValidateFormStructure:u}}).endpoint,{method:"POST",headers:p.c,body:JSON.stringify(c.body),keepalive:!0}).catch(f.captureException),l=navigator.userAgent.includes("Firefox/"),!(!i&&!l)){e.next=6;break}return e.abrupt("return",{success:!0});case 6:return e.next=8,d;case 8:if(y=e.sent){e.next=12;break}return(0,f.captureException)("Received empty response from /api/forms/submit"),e.abrupt("return",{success:!0});case 12:return e.next=14,y.json();case 14:if(v=e.sent,!(y.status>=500&&y.status<600)){e.next=19;break}return w=(null===(h=v.errors)||void 0===h?void 0:h.join(","))||"",(0,f.captureException)("Received ".concat(y.status," response from /api/forms/submit. Errors=").concat(w)),e.abrupt("return",{success:!0});case 19:return e.abrupt("return",b(b({},v),{},{result:b(b({},v.result),{},{type:n?"update":"submit"})}));case 20:case"end":return e.stop()}},e)}))).apply(this,arguments)}function O(e){var t={context:"marketo_form",action:"submitted",object:"form_".concat(e)},r=new m.AnalyticsEvent(t);r.setPlaceFromPath(window.location.pathname),r.send()}function g(e,t){(0,m.triggerGoogleTagManagerCustomEvent)(m.googleTagManagerCustomEvents.marketoFormSubmitted,b({"marketo-form-id":e},t))}function x(){return window.Intercom&&window.Intercom("getVisitorId")||c().get("intercom-id-tx2p130c")}function j(e,t,r){return S.apply(this,arguments)}function S(){return(S=(0,o.Z)(a().mark(function e(t,r,n){var o,i;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.n)();case 2:if(o=e.sent,!(i=r.Email||r.email)){e.next=14;break}return e.prev=5,e.next=8,o.recordEmailSubmissionWithOptions({email:i,createQualifiedProspect:!0,pageViewId:o.pageviewId,opts:{source:n||"marketo-form",visitor_id:x()},disableMarketoIntegration:!0,extraMetricsTags:(0,d.NJ)(t),marketoFormId:t,visitorAttributes:k(r)});case 8:return e.abrupt("return",e.sent);case 11:e.prev=11,e.t0=e.catch(5),(0,f.captureException)(e.t0);case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}},e,null,[[5,11]])}))).apply(this,arguments)}function k(e){var t={};return e.FirstName&&e.LastName?t.name="".concat(e.FirstName," ").concat(e.LastName):e.FirstName&&(t.name=e.FirstName),e.Phone&&(t.phone=e.Phone),e.Company&&(t.company_name=e.Company),e.NumberOfEmployees&&(t.company_size=e.NumberOfEmployees),Object.keys(t).length>0?t:void 0}function P(e){return F.apply(this,arguments)}function F(){return(F=(0,o.Z)(a().mark(function e(t){var r,n,o;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(window.Intercom){e.next=2;break}return e.abrupt("return");case 2:if(r={},n=t.FirstName,o=t.LastName,n&&o&&(r.name="".concat(n," ").concat(o)),Object.keys(r).length>0)try{window.Intercom("update",r)}catch(i){(0,f.captureException)(i)}case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}}}]);
//# sourceMappingURL=6242-ac7566b2f768d6a4.js.map